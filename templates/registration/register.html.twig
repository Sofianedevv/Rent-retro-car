{% extends 'base.html.twig' %}

{% block title %} Inscription - Retro Car Rent {% endblock %}

{% block body %}
    <!-- Register Section -->
    <section id="register-login-page" class="bg-gradient-to-r from-[#d4af37] via-[#e5c4a1] to-[#5a6e5c] min-h-screen flex items-center justify-center">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row gap-4 justify-center">
                <div class="md:w-1/2 bg-white rounded-lg shadow-md p-6 md:p-10">
                    <h2 class="text-3xl font-semibold text-center text-primary mb-6">Inscription</h2>

                    <!-- Display Flash Messages -->
                    {% for flash_error in app.flashes('verify_email_error') %}
                        <div class="alert alert-danger bg-red-200 text-red-700 p-4 rounded-lg mb-4" role="alert">{{ flash_error }}</div>
                    {% endfor %}

                    {{ form_start(registrationForm) }}

                    <div class="mb-4">
                        {{ form_label(registrationForm.firstName, 'Prénom', { 'label_attr': { 'class': 'block text-orange-600 font-semibold' } }) }}
                        {{ form_widget(registrationForm.firstName, { 'attr': { 'class': 'w-full px-3 py-2 border focus:border-transparent rounded-full focus:outline-none focus:ring-2 focus:ring-primary', 'placeholder': 'Entrez votre prénom' } }) }}
                        {{ form_errors(registrationForm.firstName) }}
                    </div>

                    <div class="mb-4">
                        {{ form_label(registrationForm.lastName, 'Nom', { 'label_attr': { 'class': 'block text-orange-600 font-semibold' } }) }}
                        {{ form_widget(registrationForm.lastName, { 'attr': { 'class': 'w-full px-3 py-2 border focus:border-transparent rounded-full focus:outline-none focus:ring-2 focus:ring-primary', 'placeholder': 'Entrez votre nom' } }) }}
                        {{ form_errors(registrationForm.lastName) }}
                    </div>

                    <div class="mb-4">
                        {{ form_label(registrationForm.phoneNumber, 'Numéro de Téléphone', { 'label_attr': { 'class': 'block text-orange-600 font-semibold' } }) }}
                        {{ form_widget(registrationForm.phoneNumber, { 'attr': { 'class': 'w-full px-3 py-2 border focus:border-transparent rounded-full focus:outline-none focus:ring-2 focus:ring-primary', 'placeholder': 'Entrez votre numéro de téléphone' } }) }}
                        {{ form_errors(registrationForm.phoneNumber) }}
                    </div>

                    <div class="mb-4">
                        {{ form_label(registrationForm.email, 'Email', { 'label_attr': { 'class': 'block text-orange-600 font-semibold' } }) }}
                        {{ form_widget(registrationForm.email, { 'attr': { 'class': 'w-full px-3 py-2 border focus:border-transparent rounded-full focus:outline-none focus:ring-2 focus:ring-primary', 'placeholder': 'Entrez votre adresse email' } }) }}
                        {{ form_errors(registrationForm.email) }}
                    </div>

                    <div class="mb-4">
                        {{ form_label(registrationForm.plainPassword, 'Mot de passe', { 'label_attr': { 'class': 'block text-orange-600 font-semibold' } }) }}
                        {{ form_widget(registrationForm.plainPassword, { 'attr': { 'class': 'w-full px-3 py-2 border focus:border-transparent rounded-full focus:outline-none focus:ring-2 focus:ring-primary', 'placeholder': 'Entrez votre mot de passe' } }) }}
                        {{ form_errors(registrationForm.plainPassword) }}
                    </div>

                    <div class="mb-4 flex items-center">
                        {{ form_widget(registrationForm.agreeTerms, { 'attr': { 'class': 'mr-2 leading-tight' } }) }}
                        {{ form_label(registrationForm.agreeTerms, 'Accepter les conditions', { 'label_attr': { 'class': 'block text-orange-600 font-semibold' } }) }}
                        {{ form_errors(registrationForm.agreeTerms) }}
                    </div>

                    <button type="submit" class="bg-primary text-white border border-primary hover:bg-transparent hover:text-primary py-2 px-3 rounded-full w-full text-xl"><strong>S'inscrire</strong></button>

                    {{ form_end(registrationForm) }}

                    <!-- Login link for existing users -->
                    <div class="mt-4 text-center">
                        <p class="text-primary">
                            Vous avez déjà un compte ? <a href="{{ path('app_login') }}" class="underline hover:text-secondary">Connectez-vous ici</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- End Register Section -->
{% endblock %}
